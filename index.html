<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SSelix Store</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

<style>
body{font-family:sans-serif;background:#fdf2f4;padding-bottom:100px}
.choice-btn{background:white;padding:25px;border-radius:20px;margin-bottom:20px;cursor:pointer;border:1px solid #ddd}
.choice-btn:hover{background:#eee}
#catalogSection,#shopSection{display:none}
.bottom-nav{position:fixed;bottom:0;left:0;width:100%;background:white;padding:15px;text-align:center;border-top:1px solid #ddd}
</style>
</head>
<body>

<div class="container mt-5" id="homeView">
    <div class="choice-btn" onclick="openShop()">
        <h4>Shop Collection</h4>
        <small>براہ راست خریداری کریں</small>
    </div>

    <div class="choice-btn" onclick="showCatalog()">
        <h4>View Catalog</h4>
        <small>بیرونی لنکس سے آرڈر کریں</small>
    </div>
</div>

<!-- Catalog -->
<div class="container mt-4" id="catalogSection">
    <button class="btn btn-secondary mb-3" onclick="goHome()">واپس جائیں</button>
    <div id="catalogContainer" class="row g-3"></div>
</div>

<!-- Shop -->
<div class="container mt-4" id="shopSection">
    <button class="btn btn-secondary mb-3" onclick="goHome()">واپس جائیں</button>

    <div id="cartItems"></div>

    <div class="mt-4">
        <form onsubmit="submitOrder(event)">
            <input class="form-control mb-2" id="name" placeholder="نام" required>
            <input class="form-control mb-2" id="phone" placeholder="واٹس ایپ نمبر" required>
            <input class="form-control mb-2" id="city" placeholder="شہر" required>

            <select class="form-control mb-2" id="province" onchange="updateDelivery()">
                <option value="">انتخاب کریں</option>
                <option value="peshawar">پشاور (100)</option>
                <option value="kpk">KPK (200)</option>
                <option value="other">دیگر صوبے (300)</option>
                <option value="pickup">Pickup (0)</option>
            </select>

            <textarea class="form-control mb-2" id="address" placeholder="مکمل پتہ"></textarea>

            <div id="deliveryText"></div>

            <button class="btn btn-success w-100 mt-3">واٹس ایپ پر آرڈر کریں</button>
        </form>
    </div>
</div>

<div class="bottom-nav">
SSelix Official Store
</div>

<script>
/* ---------- PRODUCTS ---------- */
const products=[
{id:1,title:"Foundation",price:2000,externalUrl:"#"},
{id:2,title:"Serum",price:1200,externalUrl:"https://daraz.pk"},
{id:3,title:"Lipstick",price:500,externalUrl:"#"}
];

let cart=[];
let delivery=0;

/* ---------- NAVIGATION ---------- */
function openShop(){
document.getElementById("homeView").style.display="none";
document.getElementById("catalogSection").style.display="none";
document.getElementById("shopSection").style.display="block";
renderCart();
}

function showCatalog(){
document.getElementById("homeView").style.display="none";
document.getElementById("shopSection").style.display="none";
document.getElementById("catalogSection").style.display="block";
renderCatalog();
}

function goHome(){
document.getElementById("catalogSection").style.display="none";
document.getElementById("shopSection").style.display="none";
document.getElementById("homeView").style.display="block";
}

/* ---------- CATALOG ---------- */
function renderCatalog(){
let html="";
products.forEach(p=>{
if(p.externalUrl!="#"){
html+=`<div class="col-12">
<div class="card p-3">
<h5>${p.title}</h5>
<a href="${p.externalUrl}" target="_blank" class="btn btn-primary">لنک کھولیں</a>
</div></div>`;
}
});
document.getElementById("catalogContainer").innerHTML=html;
}

/* ---------- CART ---------- */
function renderCart(){
let html="";
products.forEach(p=>{
if(p.externalUrl=="#"){
html+=`<div class="card p-3 mb-2">
<h5>${p.title}</h5>
<p>Rs ${p.price}</p>
<button onclick="addToCart(${p.id})" class="btn btn-dark">کارٹ میں شامل کریں</button>
</div>`;
}
});
document.getElementById("cartItems").innerHTML=html;
}

function addToCart(id){
let product=products.find(p=>p.id==id);
cart.push(product);
alert("کارٹ میں شامل ہوگیا");
}

/* ---------- DELIVERY ---------- */
function updateDelivery(){
let p=document.getElementById("province").value;
if(p=="peshawar")delivery=100;
else if(p=="kpk")delivery=200;
else if(p=="other")delivery=300;
else if(p=="pickup")delivery=0;
document.getElementById("deliveryText").innerHTML="ڈلیوری چارج: "+delivery;
}

/* ---------- ORDER ---------- */
function submitOrder(e){
e.preventDefault();
if(cart.length==0){alert("کارٹ خالی ہے");return;}
let name=document.getElementById("name").value;
let phone=document.getElementById("phone").value;
let msg="نیا آرڈر\n";
cart.forEach(p=>msg+=p.title+" - "+p.price+"\n");
msg+="ڈلیوری: "+delivery;
window.open("https://wa.me/923102890002?text="+encodeURIComponent(msg));
}
</script>

</body>
</html>